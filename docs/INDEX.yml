CORE:
  DATA:
    PATH:
      ../cache
    meta:
      All the data should be stored here. Best would be in subdirectories.

    TRIAL:
      PATH:
        ./cache/01_trial_data
      meta:
        Data of trial model runs.
      CLIMA_LAND:
        PATH:
          ./cache/01_trial_data/01_clima_land
        meta:
          Directory for CliMA Land trial data.
        WRAPPER_DATA:
          PATH:
            ./cache/01_trial_data/01_clima_land/era5_2019_117_296_1X.csv
          meta:
            Data for CliMA Land vanilla run.
      # end TRIAL

    FEATURES:
      PATH:
        ../cache/02_features
      meta:
        Directory for data features and subarea selections
        
      SUBAREASELECTION:
        PATH:
          ../cache/02_features/subareas
        meta:
          Collection of csv files for subarea selection
        V01:
          PATH:
            ../cache/02_features/subareas/2022_09_subareas_5y_48hnoo.csv
          meta:
            v01 of subarea selection (hourly from 01-01-2015 to 01-01-2020).
        # end SUBAREASELECTION
      ERA5HOURLY:
        PATH:
          ../cache/02_features/era5hourly
        meta:
          Subarea specific data from ERA5/CDS in NetCDF format.
        V01:
          PATH:
            ../cache/02_features/era5hourly/v01
          meta:
            v01 of ERA5 data.
          ./cache/02_features/era5hourly/v01
          LOG:
            PATH:
              ../cache/02_features/era5hourly/v01/2022_09_29_14_25_cdsapifetch.csv
            meta:
              CSV file that documents the download with CDS API.
        # end ERA5HOURLY
          BIOMASS:
      ROOT:
        ./cache/02_features/gm_biomass
      GRIDDING_MACHINE:
        ./src/.julia/v1.7_depot/artifacts/f3a9530cb23714c5d2a3863a7317ff2bfb32077a/BIOMASS_SHOOT_120X_1Y_V2.nc
      V01:
        ./cache/02_features/gm_biomass
      # end BIOMASS
      CANOPY_HEIGHT:
        PATH:
          ../cache/02_features/gm_canopy_height
        meta:
          Canopy height datasets.
        GRIDDING_MACHINE:
          PATH:
            ../src/.julia/v1.7_depot/artifacts/8e82b3b97603651740df68ff493cb497c6f7b486/CH_20X_1Y_V1.nc
          meta:
            Dataset for canopy height as downloaded using GriddingMachine.jl and the label 'CH_20X_1Y_V1.nc'.
        V01:
          PATH:
            ../cache/02_features/gm_canopy_height
          meta:
            Regridded dataset (0.1° x 0.1°) of canopy height.
        # end CANOPY_HEIGHT
      LAI:
        PATH:
          ../cache/02_features/gm_lai
        meta:
          Leaf area index datasets.
        GRIDDING_MACHINE:
          PATH:
            None
          meta:
            Year-specific LAI datasets (2015-2019) as downloaded using GriddingMachine.jl and the labels 'LAI_MODIS_10X_8D_2015_V1, 'LAI_MODIS_10X_8D_2016_V1', 'LAI_MODIS_10X_8D_2017_V1', 'LAI_MODIS_10X_8D_2018_V1' and 'LAI_MODIS_10X_8D_2019_V1'.
          "2015":
            /home/biotoml/lsm/src/.julia/v1.7_depot/artifacts/536d3d2ae3b68a20e158b3ba3972b1d2c68435b0/LAI_MODIS_10X_8D_2015_V1.nc
          "2016":
            /home/biotoml/lsm/src/.julia/v1.7_depot/artifacts/4ca2094e4efdd74fc7a2b66a3fef5c04b8004626/LAI_MODIS_10X_8D_2016_V1.nc
          "2017":
            /home/biotoml/lsm/src/.julia/v1.7_depot/artifacts/12b9b9f8b8b54158a17e7ff0e691c1ab29418f5a/LAI_MODIS_10X_8D_2017_V1.nc
          "2018":
            /home/biotoml/lsm/src/.julia/v1.7_depot/artifacts/56d784ba6edd908549d26ade5d3fb2daf9c9d65b/LAI_MODIS_10X_8D_2018_V1.nc
          "2019":
            /home/biotoml/lsm/src/.julia/v1.7_depot/artifacts/87a9e1e1d7736ddc5466f40d83f3216f52efc642/LAI_MODIS_10X_8D_2019_V1.nc
        V01:
          ./cache/02_features/gm_lai
      # end LAI
    SOIL_MSWC:
      ROOT:
        ./cache/02_features/gm_soil_mswc
      GRIDDING_MACHINE:
        ./src/.julia/v1.7_depot/artifacts/035ee92010937a0aee873c88e8e4f3705fcc0d06/SOIL_SWCS_12X_1Y_V1.nc
      V01:
        ./cache/02_features/gm_soil_mswc
      # end SOIL_MSWC
    SOIL_WCR:
      ROOT:
        ./cache/02_features/gm_soil_wcr
      GRIDDING_MACHINE:
        ./src/.julia/v1.7_depot/artifacts/d5134186bfabf415032c06c8a484597bb235afe0/SOIL_SWCR_12X_1Y_V1.nc
      V01:
        ./cache/02_features/gm_soil_wcr
      # end SOIL_WCR
    SOIL_VGA:
      ROOT:
        ./cache/02_features/gm_soil_vga
      GRIDDING_MACHINE:
        ./src/.julia/v1.7_depot/artifacts/337b223183e9129d879b34a88c9ec36592bfc13e/SOIL_VGA_12X_1Y_V1.nc
      V01:
        ./cache/02_features/gm_soil_vga
      # end SOIL_VGA
    SOIL_VGN:
      ROOT:
        ./cache/02_features/gm_soil_vgn
      GRIDDING_MACHINE:
        ./src/.julia/v1.7_depot/artifacts/137a141ba5dba7db1e9922efd26487fb77d810f7/SOIL_VGN_12X_1Y_V1.nc
      V01:
        ./cache/02_features/gm_soil_vgn
      # end SOIL_VGN
    SOIL_KSAT:
      ROOT:
        ./cache/02_features/gm_soil_ksat
      GRIDDING_MACHINE:
        ./src/.julia/v1.7_depot/artifacts/b5ced69cd1849f1b001302ff23f1f8dbf1dabf43/SOIL_KSAT_100X_1Y_V2.nc
      V01:
        ./cache/02_features/gm_soil_ksat
      # end SOIL_KSAT
    SOIL_COLOR:
      ROOT:
        ./cache/02_features/gm_soil_color
      GRIDDING_MACHINE:
        ./src/.julia/v1.7_depot/artifacts/29cd434229d72705e9fa434c3a25e9889aba69e5/SC_2X_1Y_V1.nc
      V01:
        ./cache/02_features/gm_soil_color
      # end SOIL_COLOR
    ELEVATION:
      ROOT:
        ./cache/02_features/gm_elevation
      GRIDDING_MACHINE:
        ./src/.julia/v1.7_depot/artifacts/8982c2361022359a3a954d9f35b65d48f6b9f39b/ELEV_4X_1Y_V1.nc
      V01:
        ./cache/02_features/gm_elevation
      # end ELEVATION
    CHLOROPHYL:
      ROOT:
        ./cache/02_features/gm_chlorophyl
      GRIDDING_MACHINE:
        ./src/.julia/v1.7_depot/artifacts/ce410fa4f36c3abdaa18da6c3afcd78c9656d929/CHL_2X_7D_V1.nc
      V01:
        ./cache/02_features/gm_chlorophyl
      # end CHLOROPHYL
    SURFACE_AREA:
      ROOT:
        ./cache/02_features/gm_surface_area
      GRIDDING_MACHINE:
        ./src/.julia/v1.7_depot/artifacts/66bbb2fe72a284075f54b254f91b68ec7414f3fb/SA_2X_1Y_V1.nc
      V01:
        ./cache/02_features/gm_surface_area
      # end SURFACE_AREA
    CLUMPING_INDEX:
      ROOT:
        ./cache/02_features/gm_clumping_index
      GRIDDING_MACHINE:
        ./src/.julia/v1.7_depot/artifacts/bf4a75248eac9eac8e2f89e7634f30f1ca44174c/CI_2X_1Y_V1.nc
      V01:
        ./cache/02_features/gm_clumping_index
      # end CLUMPING_INDEX
    PLANT_FUNC_TYPE:
      ROOT:
        ./cache/02_features/gm_plant_func_type
      GRIDDING_MACHINE:
        ./src/.julia/v1.7_depot/artifacts/ecc92c654ef31d99fdea975629b899686c0bb71b/PFT_2X_1Y_V1.nc
      V01:
        ./cache/02_features/gm_plant_func_type
      # end PLANT_FUNC_TYPE
    VCMAX_RUBISCO:
      ROOT:
        ./cache/02_features/gm_vcmax_rubisco
      GRIDDING_MACHINE:
        ./src/.julia/v1.7_depot/artifacts/f77d012b83e957bbb2c7498f4068e9169025d425/VCMAX_2X_1Y_V2.nc
      V01:
        ./cache/02_features/gm_vcmax_rubisco
      # end VCMAX_RUBISCO
    TREE_DENSITY:
      ROOT:
        ./cache/02_features/gm_tree_density
      GRIDDING_MACHINE:
        ./src/.julia/v1.7_depot/artifacts/b8a1db6ec352de2526af2d1d2e16caaef48b488e/TD_2X_1Y_V1.nc
      V01:
        ./cache/02_features/gm_tree_density
      # end TREE_DENSITY
    # end FEATURES
  # end DATA
  
  CODE: 
    PATH:
      ../src
    meta:
      All code packages should be found here. Subdirectories for subsequent ideas.
    
    MODEL_EXPLORATION:
      PATH:
        ../src/01_model_exploration
      meta:
        Directory for code/classes that are/could be used in 01_model_exploration notebooks.
    # end MODEL_EXPLORATION

    METHODOLOGIES:
      PATH:
        ../src/02_methodologies
      meta:
        Code for method exploration, regridding, data download, data organization etc.

      JULIA:
        CDS_FETCHER:
          PATH:
            ../src/02_methodologies/cdsfetcher.jl
          meta:
            For downloading CDS data (e.g. ERA5 hourly) given query data (here froma csv file).
        
        REGRIDDER:
          PATH:
            ../src/02_methodologies/regridding.jl
          meta:
            Classes and functions for regridding finegridded to more coarsely gridded NetCDF files.

        SPATIALPLOT:
          PATH:
            ../src/02_methodologies/spatialplotting.jl
          meta:
            Functions for comparing/plotting NetCDF files.
        
        UTILS_NETCDF:
          PATH:
            ./src/02_methodologies/utils_netcdf.jl
          meta:
            Utilities for regridding, organizing and plotting of NetCDF files.
      
      PYTHON:
        SUBAREA:
          PATH:
            ../src/02_methodologies/subarea.py
          meta:
            Class for a SubArea from a global xarray/NetCDF dataset that can select for NaNs.
          
        SUBAREASELECTOR:
          PATH:
            ../src/02_methodologies/subareaselector.py
          meta:
            Classes to select Subareas requiring a threshold of non-NaN values and non overlaps.
      
        UTILS_SUBAREASELECTION:
          PATH:
            ../src/02_methodologies/utils_subareaselection.py
          meta:
            Functionalities for subarea selection.
    # end METHODOLOGIES

    TRIALS:
      PATH:
        ../src/03_test_models
      meta:
        Directory for code/classes that are/could be used in 03_test_models notebooks.
    # end TRIALS
  
    SCRIPTS:
      PATH:
        ../src/scripts
      meta:
        Directory for "non-sustainable" simple run-scripts seperated into SLURM, python or julia.
      
      SLURM:
        PATH:
          ../src/scripts/slurm
        meta:
          Collection of SLURM scripts
        P01_ERA5:
          PATH:
            ./src/scripts/slurm/job_2022_09_29_14_16_31.sh
          meta:
            SLURM script to run 01_ERA5 script in python.
      
      PYTHON:
        PATH:
          ../src/scripts/python
        meta:
          Collection of python executable scripts. Thought to be used in SLURM jobs.
        01_ERA5:
          PATH:
            ../src/scripts/python/01_get_era5.py
          meta:
            Script to download the whole ERA5 data for v01 subareas (from 2015-2019).
    # end SCRIPTS
  # end CODE

  DOCUMENTATION:
    PATH:
      ../docs
    meta:
      Files that allow communication and presentation of the project are desired to be structured here.
    
    PRESENTATION:
      PATH:
        ../docs/presentations
      meta:
        For different types of slides for presentations. Large files should not be gitted here.
      
      01_LITREVIEW:
        PATH:
          ./docs/presentations/01_literature_review
        meta:
          First pesentation to introduce LSMs in our meetings.
    # end PRESENTATION
    
    REPORTING:
      PATH:
        ../docs/reporting
      meta:
        For reports, and work progress documentation files.
      
      MEETINGS:
        PATH:
          ../docs/reporting/01_meetings_documentation.md
        meta:
          Summaries of all meetings with links to notebooks, literature and data sources.
    # end REPORTING
  # end DOCUMENTATION
  
  NOTEBOOKS:
    PATH:
      ../notebooks/pinN1_stories
    meta:
      It makes sense to divide code and notebooks. Thus, they should be linked via import by __init__.py files (at least from src -> notebooks). Notebooks should be split into subdirectories as well as numbered. The files should be organized in a way to build a jupyter book out of it.
    
    REFERENCES:
      PATH:
        ../notebooks/pinN1_stories/references.bib
      meta:
        BibTex file of all references of this project.
    # end REFERENCES

    SLURM:
      PATH:
        ./notebooks/pinN1_stories/00_slurm
      meta:
        Notebooks to build slurm scripts and submit them. FOr reproducibility.
      01_SCRIPT_AND_SUBMIT:
        PATH:
          ./notebooks/pinN1_stories/00_slurm/01_make_scripts_and_submit.ipynb
        meta:
          Main notebook to write simple slurm scripts and document their submission.
    # end SLURM

    MODEL_EXPLORATION:
      PATH:
        ../notebooks/pinN1_stories/01_model_exploration
      meta:
        This directory includes notebooks that rank and analyze published LSMs and related models.
      01_RANKING:
        PATH:
          ../notebooks/pinN1_stories/01_model_exploration/01_submodel_ranking.ipynb
        meta:
          Ranking of submodels of CLM and some other LSMs
      02_RANKING_CRITERIA:
        PATH:
          ../notebooks/pinN1_stories/01_model_exploration/02_submodel_criteria.ipynb
        meta:
          Decision sheet for ranking (sub)models.
      03_PROBLSMS:
        PATH:
          ../notebooks/pinN1_stories/01_model_exploration/03_problems_of_lsms.ipynb
        meta:
          Problems of LSMs.
    # end MODEL_EXPLORATION
    
    METHODOLOGIES:
      PATH:
        ../notebooks/pinN1_stories/02_methodologies
      meta:
        Analyses of methods that are used in LSMs.
        
      01_DEEPLEARNING:
        PATH:
          ../notebooks/pinN1_stories/02_methodologies/01_deep_learning_lsm.ipynb
        meta:
          Summaries of papers that use ML approaches in LSMs and related models.
          
      02_DATASOURCES:
        PATH:
          ../notebooks/pinN1_stories/02_methodologies/02_sources_for_data_on_gpp.ipynb
        meta:
          Summaries of datasources that we could use for GPP LSM emulator.
      
      03_CLSOURCES:
        PATH:
          ../notebooks/pinN1_stories/02_methodologies/03_sources_for_clima_land.ipynb
        meta:
          CliMA models and other sources that can be used as input for CliMA Land.

      04_REGRID_JULIA:
        PATH:
          ../notebooks/pinN1_stories/02_methodologies/04_regrid_clima_land_data.ipynb
        meta:
          Regridding trial datasets using self implementef regridder in Julia.
      
      05_DOWNLOAD_CDS:
        PATH:
        ../notebooks/pinN1_stories/02_methodologies/05_download_cds_data.ipynb
        meta:
          Downloading ERA5 data using the CDS API.
      
      06_REGRID_PYTHON:
        PATH:
          ./notebooks/pinN1_stories/02_methodologies/06_regridding_in_python.ipynb
        meta:
          Regridding and plotting NetCDF files in python unsing xarray and xESMF.

      07_SELECT_SUBAREAS:
        PATH:
          ./notebooks/pinN1_stories/02_methodologies/07_select_vegcovered_subareas.ipynb
        meta:
          Selecting subareas (64x64 > 70% vegetation-covered cells with 0.1°x0.1° resolution) for timepoints between 2015 and 2020 with no global overlap for +/- 48 hours.
    # end METHODOLOGIES
    
    TRIALS:
      PATH:
        ../notebooks/pinN1_stories/03_test_models
      meta:
        Trials of established LSMs, to understand their behaviour and application.
      
      01_CLIMA_LAND_VANILLA:
        PATH:
          ../notebooks/pinN1_stories/03_test_models/01_clima_land_vanilla.ipynb
        meta:
          First try to understand and run the CliMA land v0.1 model. Simple parameter exchange; performed in Julia.

       02_CLIMA_LAND_MODEL:
          PATH:
            ../notebooks/pinN1_stories/03_test_models/02_clima_land_grownup.ipynb
          meta:
            Assembling CliMA Land model that is used as template for emulation.
    # end TRIALS
  # end NOTEBOOKS
  
  EXTERNALS:
    PATH:
      ../ext_src
    meta:
      Directory with external larger projects, e.g. LSM clones.
    
    01_CLIMA_LAND_V01:
      PATH:
        ../ext_src/01_julia_land_v01/Land
      meta:
        Clone of the CliMA land model v0.1.
      WRAPPER:
        PATH:
          ../ext_src/01_julia_land_v01/Land/clima-land.jl
        meta:
          Script that wraps the julia land model for its tutorial. Could be used to analyze the application of the model.
    # end 01_CLIMA_LAND_V01

    SLURMSUBMITTER:
      PATH:
        ../island_in_the_sun/projects/beta-Cyclocitral/uppmax_scripts
      meta:
        Elegant way to submit and buid SLURM scripts on UPPMAX.
      
      UPPMAXSCRIPT:
        PATH:
          ../island_in_the_sun/projects/beta-Cyclocitral/uppmax_scripts/uppmax_script_class.py
        meta:
          Main Class for uppmax slurm script construction.
      BASICS:
        PATH:
          ../SCRIPT_BASICS.json
        meta:
          File that defines basics for SLURM script creation.
      LOGDIR:
        PATH:
          ../cache/00_slurmlog
        meta:
          Directory for err and out files of the SLURM jobs.
    # end SLURMSUBMITTER
  # end EXTERNALS
  
  TUTORIAL:
    PATH:
      ../ext_src/02_tutorials
    meta:
      Place to store tutorials to gain new skills of methods and skills.
    
    01_CLIMACORE:
      PATH:
        ../ext_src/02_tutorials/01_climacore/ClimaWorkshops
      meta:
        Workshop to understand ClimaCore.jl, the spatial core package all CliMA models are/should be based on.
  # end TUTORIAL
  
  CATALOG:
    PATH:
      ../PATHS.yml
    meta:
      This is the most important file, keeping track of all important files that could be imported in any code. YAML-type allows simple importing.
  # end CATALOG

  SOFTWARE:
    JULIA:
      PATH: 
        /sw/comp/julia/1.7.2/rackham/bin/julia
      meta:
        Index for julia and its projects, packages, ...
        
      PROJECTS:
        PATH:
          ../src/.julia
        meta:
          Path to julia projects.
          
        01_DEFAULT:
          PATH:
            ../src/.julia/v1.7
          meta:
            Default julia project directory for all CliMA simulations.
        
        02_REGRID:
          PATH:
            ../src/.julia/v1.6_regrid
          meta:
            Julia project for regridding and NetCDF plotting. v1.6 to have no issues with NetCDF package.
        
        03_CLIMA_LAND:
          PATH:
            ../ext_src/01_julia_land_v01/Land
          meta:
            Project for the run of CliMA vanilla model.
      # end PROJECTS
    # end JULIA
  # end SOFTWARE
# end